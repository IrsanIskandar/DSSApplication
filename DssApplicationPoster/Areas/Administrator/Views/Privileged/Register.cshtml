
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Dashboard Register" />
    <meta name="author" content="" />

    <title>Register Dashboard</title>

    <link rel="stylesheet" href="~/assets/js/jquery-ui/css/no-theme/jquery-ui-1.10.3.custom.min.css">
    <link rel="stylesheet" href="~/assets/css/font-icons/entypo/css/entypo.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic">
    <link rel="stylesheet" href="~/assets/css/bootstrap.css">
    <link rel="stylesheet" href="~/assets/css/neon-core.css">
    <link rel="stylesheet" href="~/assets/css/neon-theme.css">
    <link rel="stylesheet" href="~/assets/css/neon-forms.css">
    <link rel="stylesheet" href="~/assets/css/custom.css">

    <script src="~/assets/js/jquery-1.11.0.min.js"></script>
</head>
<body class="page-body login-page login-form-fall" data-url="">
    <!-- This is needed when you send requests via Ajax -->
    <script type="text/javascript">
        var baseurl = '';
    </script>

    <div class="login-container">

        <div class="login-header login-caret">

            <div class="login-content">

                <a href="#" class="logo">
                    <img src="~/assets/images/logo@2x.png" width="120" alt="" />
                </a>

                <p class="description">Create an account, it's free and takes few moments only!</p>

                <!-- progress bar indicator -->
                <div class="login-progressbar-indicator">
                    <h3>43%</h3>
                    <span>logging in...</span>
                </div>
            </div>

        </div>

        <div class="login-progressbar">
            <div></div>
        </div>

        <div class="login-form">

            <div class="login-content">
                <form method="post" role="form" id="form_register">
                    @Html.AntiForgeryToken()
                    <div class="form-register-success">
                        <i class="entypo-check"></i>
                        <h3>You have been successfully registered.</h3>
                        <p>We have emailed you the confirmation link for your account.</p>
                    </div>

                    <div class="form-steps">

                        <div class="step current" id="step-1">

                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="entypo-user"></i>
                                    </div>

                                    <input type="text" class="form-control" name="firstName" id="firstName" placeholder="Firstname" autocomplete="off" required />
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="entypo-user"></i>
                                    </div>

                                    <input type="text" class="form-control" name="lastName" id="lastName" placeholder="Lastname" autocomplete="off" required />
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="entypo-user"></i>
                                    </div>

                                    <input type="text" class="form-control" name="preferredName" id="preferredName" placeholder="Prefrerred Name" autocomplete="off" />
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="entypo-phone"></i>
                                    </div>

                                    <input type="text" class="form-control" name="Phone" id="Phone" placeholder="Phone Number" autocomplete="off" required />
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="entypo-calendar"></i>
                                    </div>

                                    <input type="text" class="form-control" name="birthDate" id="birthDate" placeholder="Date of Birth (DD/MM/YYYY)" data-mask="date" autocomplete="off" />
                                </div>
                            </div>

                            <div class="form-group">
                                <button type="button" data-step="step-2" class="btn btn-primary btn-block btn-login">
                                    Next Step
                                    <i class="entypo-right-open-mini"></i>
                                </button>
                            </div>

                            <div class="form-group">
                                Step 1 of 2
                            </div>

                        </div>

                        <div class="step" id="step-2">

                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="entypo-user-add"></i>
                                    </div>

                                    <input type="text" class="form-control" name="username" id="username" placeholder="Username" data-mask="@@[a-zA-Z0-9\.]+" data-is-regex="true" autocomplete="off" />
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="entypo-mail"></i>
                                    </div>

                                    <input type="text" class="form-control" name="email" id="email" data-mask="email" placeholder="E-mail" autocomplete="off" />
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="entypo-lock"></i>
                                    </div>

                                    <input type="password" class="form-control" name="password" id="password" placeholder="Choose Password" autocomplete="off" />
                                </div>
                            </div>

                            <div class="form-group">
                                <button type="submit" class="btn btn-success btn-block btn-login">
                                    Complete Registration
                                    <i class="entypo-right-open-mini"></i>
                                </button>
                            </div>

                            <div class="form-group">
                                Step 2 of 2
                            </div>

                        </div>

                    </div>

                </form>


                <div class="login-bottom-links">

                    <a href="@Url.Action("Login", "Privileged")" class="link">
                        <i class="entypo-lock"></i>
                        Return to Login Page
                    </a>

                    <br />

                    <a href="javascript:void(0);">DSS</a> Dasboard - <a href="javascript:void(0);">Privacy Policy</a>

                </div>

            </div>

        </div>

    </div>

    <script type="text/javascript">
    /**
     *	Neon Register Script
     *
     *	Developed by Arlind Nushi - www.laborator.co
     */

        var neonRegister = neonRegister || {};

        ;(function($, window, undefined)
        {
	        "use strict";

	        $(document).ready(function()
            {
                neonRegister.$body = $('body');
		        neonRegister.$pageContainer  = neonRegister.$body.find(".login-container");
		        neonRegister.$container = $("#form_register");
		        neonRegister.$steps = neonRegister.$container.find(".form-steps");
		        neonRegister.$steps_list = neonRegister.$steps.find(".step");
		        neonRegister.step = 'step-1'; // current step


		        neonRegister.$container.validate({
			        rules: {
                        firstName: {
                            required: true
                        },

                        lastName: {
                            required: true
                        },

                        Phone: {
                            required: true
                        },

				        email: {
					        required: true,
					        email: true
				        },

				        username: {
					        required: true
                        },

				        password: {
					        required: true
				        },

			        },

			        messages: {

				        email: {
					        email: 'Invalid E-mail.'
				        }
			        },

			        highlight: function(element){
				        $(element).closest('.input-group').addClass('validate-has-error');
			        },


			        unhighlight: function(element)
			        {
				        $(element).closest('.input-group').removeClass('validate-has-error');
			        },

			        submitHandler: function(ev)
			        {
				        $(".login-page").addClass('logging-in');

				        // We consider its 30% completed form inputs are filled
				        neonRegister.setPercentage(30, function()
				        {
					        // Lets move to 98%, meanwhile ajax data are sending and processing
					        neonRegister.setPercentage(98, function(e)
                            {
						        // Send data to the server
						        $.ajax({
							        url: '@Url.Action("AddRegisterUser", "PrivilegedData")',
							        method: 'POST',
							        data: {
								        firstName:      $('input[name="firstName"]').val(),
								        lastName:       $('input[name="lastName"]').val(),
								        preferredName:  $('input[name="preferredName"]').val(),
								        Phone:          $('input[name="Phone"]').val(),
								        birthDate: 	    $('input[name="birthDate"]').val(),
								        username: 	    $('input[name="username"]').val(),
								        email:          $('input[name="email"]').val(),
								        password:	    $('input[name="password"]').val(),
                                    },
							        error: function(err)
							        {
                                        // Sample Toastr Notification
                                        setTimeout(function () {
                                            let opts = {
                                                "closeButton": true,
                                                "debug": false,
                                                "positionClass": rtl() || neonRegister.$body.hasClass('login-container') ? "toast-top-left" : "toast-top-right",
                                                "toastClass": "red",
                                                "onclick": null,
                                                "showDuration": "300",
                                                "hideDuration": "1000",
                                                "timeOut": "5000",
                                                "extendedTimeOut": "1000",
                                                "showEasing": "swing",
                                                "hideEasing": "linear",
                                                "showMethod": "fadeIn",
                                                "hideMethod": "fadeOut"
                                            };

                                            toastr.error(err, "An error occurred, double check your data", opts);
                                        }, 3000);

                                        @*window.location.href = '@Url.Action("SuperAdmin", "Privileged")';*@
							        },
							        success: function(response)
							        {
								        // From response you can fetch the data object retured
								        //var name = response.submitted_data.name,
								        //	phone = response.submitted_data.phone,
								        //	birthdate = response.submitted_data.birthdate,
								        //	username = response.submitted_data.username,
								        //	email = response.submitted_data.email,
                                        //  password = response.submitted_data.password;

                                        setTimeout(function () {
                                            let options = {
                                                "closeButton": true,
                                                "debug": false,
                                                "positionClass": rtl() || neonRegister.$body.hasClass('login-container') ? "toast-top-left" : "toast-top-right",
                                                "toastClass": "green",
                                                "onclick": null,
                                                "showDuration": "300",
                                                "hideDuration": "1000",
                                                "timeOut": "5000",
                                                "extendedTimeOut": "1000",
                                                "showEasing": "swing",
                                                "hideEasing": "linear",
                                                "showMethod": "fadeIn",
                                                "hideMethod": "fadeOut"
                                            };

                                            toastr.success("Congratulations, you have Successfully registered as a new user.", "Successfully saved data.", options);
                                        }, 3000);

                                        @*window.location.href = '@Url.Action("Login", "Privileged")';*@


								        // Form is fully completed, we update the percentage
								        neonRegister.setPercentage(100);


								        // We will give some time for the animation to finish, then execute the following procedures
								        setTimeout(function()
								        {
									        // Hide the description title
									        $(".login-page .login-header .description").slideUp();

									        // Hide the register form (steps)
									        neonRegister.$steps.slideUp('normal', function()
									        {
										        // Remove loging-in state
										        $(".login-page").removeClass('logging-in');

										        // Now we show the success message
										        $(".form-register-success").slideDown('normal');

										        // You can use the data returned from response variable
									        });

								        }, 1000);
							        }
						        });
					        });
				        });
			        }
		        });

		        // Steps Handler
		        neonRegister.$steps.find('[data-step]').on('click', function(ev)
		        {
			        ev.preventDefault();

			        var $current_step = neonRegister.$steps_list.filter('.current'),
				        next_step = $(this).data('step'),
				        validator = neonRegister.$container.data('validator'),
				        errors = 0;

			        neonRegister.$container.valid();
			        errors = validator.numberOfInvalids();

			        if(errors)
			        {
				        validator.focusInvalid();
			        }
			        else
			        {
				        var $next_step = neonRegister.$steps_list.filter('#' + next_step),
					        $other_steps = neonRegister.$steps_list.not( $next_step ),

					        current_step_height = $current_step.data('height'),
					        next_step_height = $next_step.data('height');

				        TweenMax.set(neonRegister.$steps, {css: {height: current_step_height}});
				        TweenMax.to(neonRegister.$steps, 0.6, {css: {height: next_step_height}});

				        TweenMax.to($current_step, .3, {css: {autoAlpha: 0}, onComplete: function()
				        {
					        $current_step.attr('style', '').removeClass('current');

					        var $form_elements = $next_step.find('.form-group');

					        TweenMax.set($form_elements, {css: {autoAlpha: 0}});
					        $next_step.addClass('current');

					        $form_elements.each(function(i, el)
					        {
						        var $form_element = $(el);

						        TweenMax.to($form_element, .2, {css: {autoAlpha: 1}, delay: i * .09});
					        });

					        setTimeout(function()
					        {
						        $form_elements.add($next_step).add($next_step).attr('style', '');
						        $form_elements.first().find('input').focus();

					        }, 1000 * (.5 + ($form_elements.length - 1) * .09));
				        }});
			        }
		        });

		        neonRegister.$steps_list.each(function(i, el)
		        {
			        var $this = $(el),
				        is_current = $this.hasClass('current'),
				        margin = 20;

			        if(is_current)
			        {
				        $this.data('height', $this.outerHeight() + margin);
			        }
			        else
			        {
				        $this.addClass('current').data('height', $this.outerHeight() + margin).removeClass('current');
			        }
		        });


		        // Login Form Setup
		        neonRegister.$body = $(".login-page");
		        neonRegister.$login_progressbar_indicator = $(".login-progressbar-indicator h3");
		        neonRegister.$login_progressbar = neonRegister.$body.find(".login-progressbar div");

		        neonRegister.$login_progressbar_indicator.html('0%');

		        if(neonRegister.$body.hasClass('login-form-fall'))
		        {
			        var focus_set = false;

			        setTimeout(function(){
				        neonRegister.$body.addClass('login-form-fall-init')

				        setTimeout(function()
				        {
					        if( !focus_set)
					        {
						        neonRegister.$container.find('input:first').focus();
						        focus_set = true;
					        }

				        }, 550);

			        }, 0);
		        }
		        else
		        {
			        neonRegister.$container.find('input:first').focus();
		        }


		        // Functions
		        $.extend(neonRegister, {
			        setPercentage: function(pct, callback)
			        {
				        pct = parseInt(pct / 100 * 100, 10) + '%';

				        // Normal Login
				        neonRegister.$login_progressbar_indicator.html(pct);
				        neonRegister.$login_progressbar.width(pct);

				        var o = {
					        pct: parseInt(neonRegister.$login_progressbar.width() / neonRegister.$login_progressbar.parent().width() * 100, 10)
				        };

				        TweenMax.to(o, .7, {
					        pct: parseInt(pct, 10),
					        roundProps: ["pct"],
					        ease: Sine.easeOut,
					        onUpdate: function()
					        {
						        neonRegister.$login_progressbar_indicator.html(o.pct + '%');
					        },
					        onComplete: callback
				        });
			        }
		        });
	        });

        })(jQuery, window);
    </script>

    <!-- Bottom Scripts -->
    <script src="~/assets/js/gsap/main-gsap.js"></script>
    <script src="~/assets/js/jquery-ui/js/jquery-ui-1.10.3.minimal.min.js"></script>
    <script src="~/assets/js/bootstrap.js"></script>
    <script src="~/assets/js/joinable.js"></script>
    <script src="~/assets/js/resizeable.js"></script>
    <script src="~/assets/js/neon-api.js"></script>
    <script src="~/assets/js/jquery.validate.min.js"></script>
    <script src="~/assets/js/toastr.js"></script>
    <script src="~/assets/js/neon-register.js"></script>
    <script src="~/assets/js/jquery.inputmask.bundle.min.js"></script>
    <script src="~/assets/js/neon-custom.js"></script>
    <script src="~/assets/js/neon-demo.js"></script>
</body>
</html>
